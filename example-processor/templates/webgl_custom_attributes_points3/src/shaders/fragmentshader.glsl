"\n\n\t\t\tuniform vec3 color;\n\t\t\tuniform sampler2D pointTexture;\n\n\t\t\tvarying vec4 vColor;\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec4 outColor = texture2D( pointTexture, gl_PointCoord );\n\n\t\t\t\tif ( outColor.a < 0.5 ) discard;\n\n\t\t\t\tgl_FragColor = outColor * vec4( color * vColor.xyz, 1.0 );\n\n\t\t\t\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;\n\t\t\t\tconst vec3 fogColor = vec3( 0.0 );\n\n\t\t\t\tfloat fogFactor = smoothstep( 200.0, 600.0, depth );\n\t\t\t\tgl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n\n\t\t\t}\n\n\t\t"